<div ng-controller="DocumentUpdateController as docupCtrl">
  <section class="story">
    <header>
      <h2>
        <input type="text" class="story-code" name="documentCode" ng-model="docupCtrl.document.code" />
        -
        <input type="text" class="story-title" name="documentName" ng-model="docupCtrl.document.name" />
      </h2>

      <div class="story-description">
        <summernote config="docupCtrl.editors.description.options" ng-model="docupCtrl.document.description"></summernote>
      </div>

      <div class="story-information">
        <div class="row">
          <div class="col-md-2 story-type">
            Type:
            <ui-select ng-model="docupCtrl.document.type" theme="bootstrap">
              <ui-select-match placeholder="Select type">
                <i class="{{$select.selected.icon}}" aria-hidden="true"></i>
                <span ng-bind-html="$select.selected.name"></span>
              </ui-select-match>
              <ui-select-choices repeat="item in (docupCtrl.types | filter: $select.search) track by item.id">
                <i class="{{item.icon}}" aria-hidden="true"></i>
                <span ng-bind-html="item.name | highlight: $select.search"></span>
              </ui-select-choices>
            </ui-select>
          </div>

          <div class="col-md-2 story-points">
            Points: <span class="badge">{{docupCtrl.document.points}}</span>
          </div>

          <div class="col-md-2 story-status">
            Status:
            <ui-select ng-model="docupCtrl.document.state" theme="bootstrap">
              <ui-select-match placeholder="Select type">
                <div>
                  <i class="{{$select.selected.icon}}" aria-hidden="true"></i>
                  <span ng-bind-html="$select.selected.name"></span>
                </div>
              </ui-select-match>
              <ui-select-choices repeat="item in docupCtrl.states | filter: $select.search">
                <div>
                  <i class="{{item.icon}}" aria-hidden="true"></i>
                  <span ng-bind-html="item.name | highlight: $select.search"></span>
                </div>
              </ui-select-choices>
            </ui-select>
          </div>

          <div class="col-md-2 story-publish" title="Publicado na versão">
            <span class="badge"> <i class="fa fa-code-fork"></i> 0.0.0</span>
          </div>
        </div>
      </div>
    </header>

    <summernote config="docupCtrl.editors.content.options" ng-model="docupCtrl.document.content"></summernote>

    <div role="toolbar" class="buttonAcao">

        <button type="button" role="button" class="btn btn-default pull-right" title="Voltar"
          ng-click="docupCtrl.comeBack()" ng-keypress="docupCtrl.comeBack()">
          <i class="fa fa-arrow-circle-left"></i>
          Return
        </button>

        <button type="submit" class="btn btn-primary icon-margin pull-right" title="Salvar nova situação"
          ng-disabled="formSituacaoCriar.$invalid"
          ng-click="docupCtrl.save(docupCtrl.document)" ng-keypress="docupCtrl.save(docupCtrl.document)">
          <i class="fa fa-save"></i>
          Save
      </button>
    </div>

  </section>

</div>
